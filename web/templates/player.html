{% extends 'base_player.html' %}

{% block content %}
    <div class="player jp-interface">
        <div class="header">
            <h3>{{ track.title }}</h3>
        </div>
        <div class="content">
            <div class="left controls" style="display: table;">
                <div class="time">
                    <span class="jp-current-time"></span> / <span class="jp-duration"></span>
                </div>
                <div style="display: table-cell; vertical-align: middle">
                    <a class="jp-play">Play<span></span></a>
                    <a class="jp-pause">Pause<span></span></a>
                </div>
            </div>
            <div class="waveform jp-progress">
                <img src="/waveform/{{ waveform.id }}/img/" />
                <canvas id="waveform"></canvas>
                <div class="jp-progress">
                    <div class="jp-seek-bar">
                        
                    </div>
                    <div class="jp-play-bar"></div>
                </div>
            </div>
        </div>
        <div id="jplayer"></div>
    </div>

    <script>
        var track_id = {{ track.id }};
        var tracks = {{ track_json|safe }};

        var player, canvasPlayer;
        $(function() {
            canvasPlayer = CanvasPlayer(track_id).init()
            player = WavfrmPlayer()
            player.init($('#jplayer'))
        })

    </script>

{% endblock %}